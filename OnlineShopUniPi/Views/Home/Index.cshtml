@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="hero-section">
    <h1>Καλωσήρθες στο ClothSwap!</h1>
    <p>Αγόρασε ή πούλησε ρούχα με στυλ, ασφάλεια και άνεση.</p>
    <a href="#" class="cta-button">Ξεκίνα τώρα</a>
</section>

<section class="section">
    <h2>✨ Δημοφηλή</h2>
    @if (ViewBag.TopFavorited is List<OnlineShopUniPi.Models.Product> topFavorites && topFavorites.Any())
    {
        <section class="section">
            <div class="products">
                @foreach (var item in topFavorites)
                {
                    var mainImage = item.ProductImages?.FirstOrDefault(img => img.IsMainImage == true)?.ImageUrl
                    ?? "~/images/resources/no_image.png";

                    <div class="product-card">
                        <a href="@Url.Action("Details", "Products", new { id = item.ProductId })">
                            <img src="@Url.Content("~/" + mainImage.TrimStart('/'))" alt="@item.Title" />
                            <h3>@item.Title</h3>
                            <p>€@item.Price</p>
                        </a>
                    </div>
                }
            </div>
        </section>
    }

</section>

<section class="section">
    <h2>Διάφορα Ρούχα</h2>
    <div class="products-grid">
        @for (int i = 1; i <= 9; i++)
        {
            <div class="grid-item">
                <a href="/OrderPage?productId=@i">
                    <img src="~/images/products/cloth.png" alt="Product @i" />
                </a>
                <p>Προϊόν @i</p>
                <form method="post" action="/Cart/AddOrRemove">
                    <input type="hidden" name="productId" value="@i" />
                    <button type="submit" class="cart-btn">Προσθήκη στο Καλάθι</button>
                </form>
            </div>
        }
    </div>

    <div class="checkout-container">
        <form method="post" action="/Order/Checkout">
            <button type="submit" class="checkout-btn">Ολοκλήρωση Παραγγελίας</button>
        </form>
    </div>
</section>

<section class="about-section">
    <h2>Σχετικά με εμάς</h2>
    <p>
        Η ClothSwap είναι μία ιστοσελίδα που δίνει την ικανότητα στους εγγεγραμένους χρήστες της να έρθουν πιο κοντά με άλλους λάτρεις μόδας ώστε να πουλήσουν και να αγοράσουν καινούργια ή παλιά ρούχα. Προσφέρουμε ένα ασφαλές περιβάλλον και αξιόπιστη υποστήριξη για όλους.
    </p>
</section>